(function(e){function t(t){for(var s,a,o=t[0],c=t[1],l=t[2],g=0,u=[];g<o.length;g++)a=o[g],r[a]&&u.push(r[a][0]),r[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(u.length)u.shift()();return n.push.apply(n,l||[]),i()}function i(){for(var e,t=0;t<n.length;t++){for(var i=n[t],s=!0,a=1;a<i.length;a++){var o=i[a];0!==r[o]&&(s=!1)}s&&(n.splice(t--,1),e=c(c.s=i[0]))}return e}var s={},a={app:0},r={app:0},n=[];function o(e){return c.p+"js/"+({about:"about"}[e]||e)+"."+{about:"ab718731"}[e]+".js"}function c(t){if(s[t])return s[t].exports;var i=s[t]={i:t,l:!1,exports:{}};return e[t].call(i.exports,i,i.exports,c),i.l=!0,i.exports}c.e=function(e){var t=[],i={about:1};a[e]?t.push(a[e]):0!==a[e]&&i[e]&&t.push(a[e]=new Promise(function(t,i){for(var s="css/"+({about:"about"}[e]||e)+"."+{about:"0e433876"}[e]+".css",r=c.p+s,n=document.getElementsByTagName("link"),o=0;o<n.length;o++){var l=n[o],g=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(g===s||g===r))return t()}var u=document.getElementsByTagName("style");for(o=0;o<u.length;o++){l=u[o],g=l.getAttribute("data-href");if(g===s||g===r)return t()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=t,d.onerror=function(t){var s=t&&t.target&&t.target.src||r,n=new Error("Loading CSS chunk "+e+" failed.\n("+s+")");n.request=s,delete a[e],d.parentNode.removeChild(d),i(n)},d.href=r;var p=document.getElementsByTagName("head")[0];p.appendChild(d)}).then(function(){a[e]=0}));var s=r[e];if(0!==s)if(s)t.push(s[2]);else{var n=new Promise(function(t,i){s=r[e]=[t,i]});t.push(s[2]=n);var l,g=document.getElementsByTagName("head")[0],u=document.createElement("script");u.charset="utf-8",u.timeout=120,c.nc&&u.setAttribute("nonce",c.nc),u.src=o(e),l=function(t){u.onerror=u.onload=null,clearTimeout(d);var i=r[e];if(0!==i){if(i){var s=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src,n=new Error("Loading chunk "+e+" failed.\n("+s+": "+a+")");n.type=s,n.request=a,i[1](n)}r[e]=void 0}};var d=setTimeout(function(){l({type:"timeout",target:u})},12e4);u.onerror=u.onload=l,g.appendChild(u)}return Promise.all(t)},c.m=e,c.c=s,c.d=function(e,t,i){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:i})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var i=Object.create(null);if(c.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)c.d(i,s,function(t){return e[t]}.bind(null,s));return i},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],g=l.push.bind(l);l.push=t,l=l.slice();for(var u=0;u<l.length;u++)t(l[u]);var d=g;n.push([0,"chunk-vendors"]),i()})({0:function(e,t,i){e.exports=i("56d7")},"0b18":function(e,t,i){},1107:function(e,t,i){"use strict";var s=i("7b36"),a=i.n(s);a.a},2482:function(e,t,i){},"29c5":function(e,t,i){},"2a52":function(e,t,i){},"2e30":function(e,t,i){"use strict";var s=i("bd0f"),a=i.n(s);a.a},"305f":function(e,t,i){},"323f":function(e,t,i){},"344b":function(e,t,i){"use strict";var s=i("8556"),a=i.n(s);a.a},3956:function(e,t,i){"use strict";var s=i("305f"),a=i.n(s);a.a},3958:function(e,t,i){"use strict";var s=i("b764"),a=i.n(s);a.a},"3ad5":function(e,t,i){"use strict";var s=i("afaf"),a=i.n(s);a.a},"3f82":function(e,t,i){"use strict";var s=i("50b1"),a=i.n(s);a.a},4538:function(e,t,i){"use strict";var s=i("cb6e"),a=i.n(s);a.a},4678:function(e,t,i){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-nz":"6f50","./en-nz.js":"6f50","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-tw":"90ea","./zh-tw.js":"90ea"};function a(e){var t=r(e);return i(t)}function r(e){var t=s[e];if(!(t+1)){var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}return t}a.keys=function(){return Object.keys(s)},a.resolve=r,e.exports=a,a.id="4678"},"4b6d":function(e,t,i){},"50b1":function(e,t,i){},"54ec":function(e,t,i){"use strict";var s=i("2482"),a=i.n(s);a.a},"56d7":function(e,t,i){"use strict";i.r(t);i("cadf"),i("551c"),i("097d");var s=i("2b0e"),a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{attrs:{id:"app"}},[i("user-msg",{attrs:{msg:e.msg}}),i("home-nav"),e.isLoading?i("div",{staticClass:"loader"}):i("router-view")],1)},r=[],n=(i("6762"),i("2fdb"),i("b54a"),function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",[i("div",{staticClass:"home-nav"},[i("div",{staticClass:"nav-logo-container"},[i("router-link",{staticClass:"home-logo",attrs:{to:"/"}},[i("h1",[e._v("\n          Gig\n          "),i("span",[e._v("It")])])])],1),i("div",{staticClass:"nav-seperator"},[i("router-link",{staticClass:"navbar-add-gig wide",attrs:{to:"/gig/edit"}},[i("i",{staticClass:"fas fa-plus"}),i("span",[e._v("Gig")])]),i("div",{staticClass:"nav-user-container"},[e.isLoggedin?i("a",{staticClass:"nav-user-menu-container",on:{click:function(t){e.dropdownOpen=!e.dropdownOpen}}},[e.notficCount?i("div",{staticClass:"new-event-point"}):e._e(),i("img",{attrs:{src:e.user.img}}),i("span",[e._v(e._s(e.user.name.first))]),i("div",{staticClass:"user-dropdown",class:e.dropdownStatus},[i("a",{on:{click:e.doLogout}},[i("i",{staticClass:"fas fa-power-off"}),e._v("Log Out\n            ")]),i("router-link",{attrs:{to:e.profileLink}},[i("i",{staticClass:"fas fa-address-card"}),e._v("Profile\n            ")]),i("router-link",{staticClass:"navbar-add-gig",attrs:{to:"/gig/edit"}},[i("i",{staticClass:"fas fa-plus"}),i("span",[e._v("Gig")])])],1)]):i("router-link",{staticClass:"nav-guest-container",attrs:{to:"/user/login"}},[i("i",{staticClass:"fas fa-user"})])],1),i("router-link",{attrs:{to:e.isLoggedin?e.inboxLink:"/user/login"}},[e.msgCount?i("div",{staticClass:"new-event-point envelope-point"}):e._e(),i("h1",[e.msgCount?i("i",{staticClass:"fas fa-envelope"}):i("i",{staticClass:"fas fa-envelope-open-text"})])]),i("router-link",{attrs:{to:"/about"}},[i("h1",[i("i",{staticClass:"far fa-question-circle"})])])],1)])])}),o=[],c={name:"homeNav",data:function(){return{dropdownOpen:!1}},computed:{user:function(){return this.$store.getters.user?this.$store.getters.user:{}},isLoggedin:function(){return this.$store.getters.isLoggedin},msgCount:function(){return this.user.inboxCount},notficCount:function(){return this.user.notficCount},profileLink:function(){return"/user/".concat(this.user._id)},myGigsLink:function(){return"/user/".concat(this.user._id,"/gigs")},inboxLink:function(){return"/user/".concat(this.user._id,"/inbox")},dropdownStatus:function(){return{open:this.dropdownOpen,closed:!this.dropdownOpen}}},methods:{doLogout:function(){this.$store.dispatch({type:"doLogout"}),this.$router.push("/")}}},l=c,g=(i("2e30"),i("2877")),u=Object(g["a"])(l,n,o,!1,null,null,null);u.options.__file="homeNav.cmp.vue";var d=u.exports,p="usr-msg-display",f=new s["default"],h=f,m=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.msg?i("section",{staticClass:"user-msg-container",class:e.msg.type,on:{click:e.goToLink}},[i("div",{staticClass:"user-msg",on:{click:e.goToLink}},[i("h5",[e._v(e._s(e.msg.txt))])]),e.msg.gigsterImg?i("div",{staticClass:"user-msg-img"},[i("img",{attrs:{src:e.msg.gigsterImg}})]):e._e()]):e._e()},v=[],b={props:["msg"],data:function(){return{}},methods:{goToLink:function(){if(this.msg){var e=this.msg.link;e&&this.$router.push(e)}}}},y=b,_=(i("8190"),Object(g["a"])(y,m,v,!1,null,null,null));_.options.__file="user-msgs.vue";var C=_.exports,w={data:function(){return{msg:"",showMsg:!1}},computed:{isLoading:function(){return this.$store.getters.isLoading},user:function(){return this.$store.getters.user}},methods:{displayMsg:function(e){var t=this;this.msg=e,this.showMsg=!0;var i=e.link?5e3:3e3;setTimeout(function(){t.msg=null,t.showMsg=!1},i)}},sockets:{emitChatMsgToUser:function(e){var t=this.$route.path;t.includes("inbox")||(this.$store.dispatch({type:"playSound",style:"success"}),this.displayMsg(e),this.user.inboxCount?this.user.inboxCount++:this.user.inboxCount=1,this.$store.dispatch({type:"updateUserState",user:this.user}))},emitEventToUser:function(e){this.$store.dispatch({type:"playSound",style:"success"}),this.displayMsg(e),this.user.notficCount?this.user.notficCount++:this.user.notficCount=1,this.$store.dispatch({type:"updateUserState",user:this.user})}},created:function(){var e=this;this.$store.dispatch({type:"checkLoggedUser"}).then(function(){e.$store.dispatch("openUserSocket")}),h.$on(p,function(t){return e.displayMsg(t)})},components:{homeNav:d,userMsg:C}},k=w,G=(i("6294"),Object(g["a"])(k,a,r,!1,null,null,null));G.options.__file="app.vue";var I=G.exports,$=i("8c4f"),j=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"home"},[i("div",{staticClass:"banner"},[i("div",{staticClass:"banner-block"},[i("h1",[e._v("Small Gigs, Big Money")]),i("div",{staticClass:"gig-story-container"},[i("div",{staticClass:"gig-story-background"}),i("img",{directives:[{name:"show",rawName:"v-show",value:0===e.imgCounter,expression:"imgCounter===0"}],class:"img"+e.imgCounterClass,attrs:{src:e.carouselObjs[0].imgUrl},on:{load:e.onImgLoaded}}),i("img",{directives:[{name:"show",rawName:"v-show",value:1===e.imgCounter,expression:"imgCounter===1"}],class:"img"+e.imgCounterClass,attrs:{src:e.carouselObjs[1].imgUrl},on:{load:e.onImgLoaded}}),i("img",{directives:[{name:"show",rawName:"v-show",value:2===e.imgCounter,expression:"imgCounter===2"}],class:"img"+e.imgCounterClass,attrs:{src:e.carouselObjs[2].imgUrl},on:{load:e.onImgLoaded}}),i("h2",{directives:[{name:"show",rawName:"v-show",value:3===e.imgCounter,expression:"imgCounter===3"}],class:"img"+e.imgCounterClass,on:{load:e.onImgLoaded}},[e._v("\n          Gig\n          "),i("span",[e._v("It")])])])])]),i("div",{staticClass:"cover-container"},[e._m(0),i("div",{staticClass:"cover-background2"}),e._m(1),i("div",{staticClass:"search-categories-container"},[i("gig-toolbar",{attrs:{gigCategoryCounter:e.gigCategoryCounter},on:{searchGig:e.filterByKey}})],1)]),e.isFiltered?e._e():i("div",{staticClass:"home-top-gigs-container"},[e._m(2),i("top-list",{attrs:{topGigs:e.topPriceGigs,title:"Price",currUser:e.user},on:{gigClicked:e.gigClicked,sortBy:e.sortBy}}),e._m(3),i("top-list",{attrs:{topGigs:e.nearestGigs,title:"Dist",currUser:e.user},on:{gigClicked:e.gigClicked,sortBy:e.sortBy}})],1),i("gig-list",{attrs:{currUser:e.user,gigs:e.gigs},on:{gigClicked:e.gigClicked}})],1)},x=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"cover-background1"},[i("img",{staticClass:"img1",attrs:{src:"https://res.cloudinary.com/barpel/image/upload/v1544710606/GigIt/happy_bar_using_hammer.png"}}),i("img",{staticClass:"img2",attrs:{src:"https://res.cloudinary.com/barpel/image/upload/v1545063714/GigIt/happy_guy_bring_bag.png"}}),i("img",{staticClass:"img3",attrs:{src:"https://res.cloudinary.com/barpel/image/upload/v1545063712/GigIt/painting_happy_jonas.png"}}),i("img",{staticClass:"img4",attrs:{src:"https://res.cloudinary.com/barpel/image/upload/v1544710699/GigIt/2_happy_guys_carry_1_couch.png"}})])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h1",[e._v("\n      Gig\n      "),i("span",[e._v("It")])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h1",{staticClass:"top-gigs-title"},[e._v("\n      Top paying\n      "),i("span",[e._v("Gigs")]),e._v(" :\n    ")])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h1",{staticClass:"top-gigs-title"},[i("span",[e._v("Gigs")]),e._v("\n      Within a mile from you:\n    ")])}],P=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"search-categories-container"},[i("section",{staticClass:"gig-toolbar-container"},[i("div",{staticClass:"search-container"},[i("div",{staticClass:"toolbar-sorter",class:e.sortDropdownStatus,on:{click:function(t){e.showSort=!e.showSort}}},[i("i",{staticClass:"fas fa-sort-amount-down"}),i("div",{staticClass:"toolbar-sorter-dropdown"},[i("div",{on:{click:function(t){e.sortBy("Price")}}},[i("i",{staticClass:"fas fa-hand-holding-usd"})]),i("div",{on:{click:function(t){e.sortBy("Dist")}}},[i("i",{staticClass:"fas fa-map-marked-alt"})])])]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byTitle,expression:"filter.byTitle"}],ref:"searchGig",attrs:{type:"text",placeholder:"Find your next Gig"},domProps:{value:e.filter.byTitle},on:{input:[function(t){t.target.composing||e.$set(e.filter,"byTitle",t.target.value)},e.searchByTitle]}}),i("button",{on:{click:e.focusOnSearch}},[i("i",{staticClass:"fas fa-search"})])]),i("div",{staticClass:"gig-toolbar tab",class:e.filterBarStatus},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byCategory,expression:"filter.byCategory"}],staticClass:"tablinks",attrs:{type:"radio",name:"all gigs",value:"",id:"tab1",checked:""},domProps:{checked:e._q(e.filter.byCategory,"")},on:{change:function(t){e.$set(e.filter,"byCategory","")}}}),i("label",{attrs:{for:"tab1"}},[e._v("All")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byCategory,expression:"filter.byCategory"}],staticClass:"tablinks",attrs:{type:"radio",name:"moving",value:"moving",id:"tab2"},domProps:{checked:e._q(e.filter.byCategory,"moving")},on:{change:function(t){e.$set(e.filter,"byCategory","moving")}}}),e._m(0),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byCategory,expression:"filter.byCategory"}],staticClass:"tablinks",attrs:{type:"radio",name:"house-work",value:"house-work",id:"tab3"},domProps:{checked:e._q(e.filter.byCategory,"house-work")},on:{change:function(t){e.$set(e.filter,"byCategory","house-work")}}}),e._m(1),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byCategory,expression:"filter.byCategory"}],staticClass:"tablinks",attrs:{type:"radio",name:"technical",value:"technical",id:"tab4"},domProps:{checked:e._q(e.filter.byCategory,"technical")},on:{change:function(t){e.$set(e.filter,"byCategory","technical")}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byCategory,expression:"filter.byCategory"}],staticClass:"tablinks",attrs:{type:"radio",name:"line-queue",value:"line-queue",id:"tab5"},domProps:{checked:e._q(e.filter.byCategory,"line-queue")},on:{change:function(t){e.$set(e.filter,"byCategory","line-queue")}}}),e._m(2),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byCategory,expression:"filter.byCategory"}],staticClass:"tablinks",attrs:{type:"radio",name:"pet-care",value:"pet-care",id:"tab6"},domProps:{checked:e._q(e.filter.byCategory,"pet-care")},on:{change:function(t){e.$set(e.filter,"byCategory","pet-care")}}}),e._m(3),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byCategory,expression:"filter.byCategory"}],staticClass:"tablinks",attrs:{type:"radio",name:"delivery",value:"delivery",id:"tab7"},domProps:{checked:e._q(e.filter.byCategory,"delivery")},on:{change:function(t){e.$set(e.filter,"byCategory","delivery")}}}),e._m(4),i("input",{directives:[{name:"model",rawName:"v-model",value:e.filter.byCategory,expression:"filter.byCategory"}],staticClass:"tablinks",attrs:{type:"radio",name:"other",value:"other",id:"tab8"},domProps:{checked:e._q(e.filter.byCategory,"other")},on:{change:function(t){e.$set(e.filter,"byCategory","other")}}}),e._m(5)]),i("button",{staticClass:"toggle-filter-btn",class:e.filterBarStatus,on:{click:e.toggleFilterStatus}},[e._v("Filter")])])])},U=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{attrs:{for:"tab2"}},[i("div",{staticClass:"item badge"},[i("i",{staticClass:"fas fa-people-carry"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{attrs:{for:"tab3"}},[i("div",{staticClass:"item badge"},[i("i",{staticClass:"fas fa-hammer"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{attrs:{for:"tab5"}},[i("div",{staticClass:"item badge"},[i("i",{staticClass:"fas fa-male"}),i("i",{staticClass:"fas fa-female"}),i("i",{staticClass:"fas fa-male"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{attrs:{for:"tab6"}},[i("div",{staticClass:"item badge"},[i("i",{staticClass:"fas fa-dog"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{attrs:{for:"tab7"}},[i("div",{staticClass:"item badge"},[i("i",{staticClass:"fas fa-parachute-box"})])])},function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("label",{attrs:{for:"tab8"}},[i("div",{staticClass:"item badge"},[i("i",{staticClass:"fas fa-ellipsis-h"})])])}],O={props:["gigCategoryCounter"],data:function(){return{filter:{byCategory:"",byTitle:"",isActive:!0},sorter:"Dist",showFilter:!1,showSort:!1}},computed:{filterBarStatus:function(){return{open:this.showFilter,closed:!this.showFilter}},sortDropdownStatus:function(){return{open:this.showSort,closed:!this.showSort}}},methods:{searchByTitle:function(){this.$emit("searchGig",this.filter,this.sorter)},toggleFilterStatus:function(){this.showFilter=!this.showFilter},focusOnSearch:function(){this.$refs.searchGig.focus()},sortBy:function(e){this.sorter=e,this.searchByTitle()}},created:function(){this.$route.params.type&&(this.filter.byCategory=this.$route.params.type,this.$emit("searchGig",this.filter))},watch:{filter:{handler:function(){this.$emit("searchGig",this.filter)},deep:!0}}},T=O,L=(i("344b"),Object(g["a"])(T,P,U,!1,null,null,null));L.options.__file="gigToolbar.vue";var S=L.exports,M=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.gigCategoryCounter?i("section",{staticClass:"gig-categories-container"},[i("div",{staticClass:"category moving"},[i("el-badge",{staticClass:"item badge",attrs:{value:e.gigCategoryCounter.moving}},[i("router-link",{attrs:{to:"/gig/category/moving"}},[i("i",{staticClass:"fas fa-people-carry"}),i("h1",[e._v("Moving")])])],1)],1),i("div",{staticClass:"category house-work"},[i("el-badge",{staticClass:"item badge",attrs:{value:e.gigCategoryCounter["house-work"]}},[i("router-link",{attrs:{to:"/gig/category/house-work"}},[i("i",{staticClass:"fas fa-hammer"}),i("h1",[e._v("House-Work")])])],1)],1),i("div",{staticClass:"category delivery"},[i("el-badge",{staticClass:"item badge",attrs:{value:e.gigCategoryCounter.delivery}},[i("router-link",{attrs:{to:"/gig/category/delivery"}},[i("i",{staticClass:"fas fa-parachute-box"}),i("h1",[e._v("Delivery")])])],1)],1),i("div",{staticClass:"category pet-care"},[i("el-badge",{staticClass:"item badge",attrs:{value:e.gigCategoryCounter["pet-care"]}},[i("router-link",{attrs:{to:"/gig/category/pet-care"}},[i("i",{staticClass:"fas fa-dog"}),i("h1",[e._v("Pet-Care")])])],1)],1),i("div",{staticClass:"category line-queue"},[i("el-badge",{staticClass:"item badge",attrs:{value:e.gigCategoryCounter["line-queue"]}},[i("router-link",{attrs:{to:"/gig/category/line-queue"}},[i("i",{staticClass:"fas fa-male"}),i("i",{staticClass:"fas fa-female"}),i("i",{staticClass:"fas fa-male"}),i("h1",[e._v("Line Queue")])])],1)],1),i("div",{staticClass:"category other"},[i("el-badge",{staticClass:"item badge",attrs:{value:e.gigCategoryCounter.other}},[i("router-link",{attrs:{to:"/gig/category/other"}},[i("i",{staticClass:"fas fa-ellipsis-h"}),i("h1",[e._v("Other")])])],1)],1)]):e._e()},A=[],B={props:{gigCategoryCounter:Object},name:"gigCategories",created:function(){},methods:{},computed:{}},E=B,F=(i("3958"),Object(g["a"])(E,M,A,!1,null,"0a0a37f7",null));F.options.__file="gigCategories.cmp.vue";var D=F.exports,N=function(){var e=this,t=e.$createElement;e._self._c;return e._m(0)},R=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("footer",{staticClass:"home-footer"},[i("h1",[e._v("\n    Gig"),i("span",[e._v("It")])]),i("div",{staticClass:"social-links-container"},[i("a",{attrs:{href:"#"}},[i("i",{staticClass:"fab fa-facebook"})]),i("a",{attrs:{href:"#"}},[i("i",{staticClass:"fab fa-instagram"})]),i("a",{attrs:{href:"#"}},[i("i",{staticClass:"fab fa-linkedin"})])])])}],q={name:"homeFooter"},z=q,H=(i("64ad"),Object(g["a"])(z,N,R,!1,null,"33d8546e",null));H.options.__file="homeFooter.cmp.vue";var W=H.exports,Y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("ul",{staticClass:"gig-list grid"},e._l(e.gigs,function(t){return i("gig-prev",{key:t._id,attrs:{gig:t,currUser:e.currUser},nativeOn:{click:function(i){e.$emit("gigClicked",t._id)}}})}))},J=[],K=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.gig&&e.publisher?i("li",[i("div",{staticClass:"gig-image",class:e.classByCategory,style:{backgroundImage:"url("+e.gig.details.img+")",objectFit:"contain"}}),i("div",[i("div",{staticClass:"publisher-container"},[i("img",{attrs:{src:e.publisher.img}}),i("div",{staticClass:"publisher-info"},[i("h3",[e._v(e._s(e.publisher.name.first+" "+e.publisher.name.last))]),i("h3",[i("i",{staticClass:"fas fa-star"}),e._v("\n           \n          "),e.publisher?i("span",[e._v(e._s(e.publisher.reviews.totalAverage?e.publisher.reviews.totalAverage.toFixed(1):"No Reviews"))]):e._e()])])]),i("div",{staticClass:"gig-details"},[i("h3",[e._v(e._s(e.gig.details.title))]),i("p",{staticClass:"gig-prev-desc"},[e._v(e._s(e.gig.details.desc))]),e.gig.details.pos.dist?i("p",[i("span",[e._v(e._s(e.gig.details.pos.dist)+" KM Away")]),i("i",{class:e.iconByCategory})]):i("p",[i("span",[e._v(e._s(e.gig.details.place))]),i("i",{class:"fas fa-"+e.iconByCategory})])]),i("div",{staticClass:"lower-bar-container"},[i("p",[e._v(e._s(e.gig.details.price)+"₪")]),e.isAlreadyPending?i("button",[e._v("Pending")]):i("button",[e._v("\n        Gig\n        "),i("span",[e._v("It")])])])])]):e._e()},V=[],Q=(i("7514"),{props:{gig:Object,currUser:Object},data:function(){return{publisher:null,isAlreadyPending:!1}},computed:{classByCategory:function(){return{delivery:"delivery"===this.gig.category,other:"other"===this.gig.category,moving:"moving"===this.gig.category,"house-work":"house-work"===this.gig.category,"line-queue":"line-queue"===this.gig.category,"pet-care":"pet-care"===this.gig.category}},iconByCategory:function(){return{"fas fa-dog":"pet-care"===this.gig.category,"fas fa-ellipsis-h":"other"===this.gig.category,"fas fa-hammer":"house-work"===this.gig.category,"fas fa-male":"line-queue"===this.gig.category,"fas fa-people-carry":"moving"===this.gig.category,"fas fa-parachute-box":"delivery"===this.gig.category}}},created:function(){var e=this;if(this.currUser){var t=this.currUser.gigsIds.pending.find(function(t){return t===e.gig._id});t&&(this.isAlreadyPending=!0)}this.$store.dispatch({type:"getUserById",userId:this.gig.publisherId}).then(function(t){return e.publisher=t}),this.$store.dispatch},methods:{isPending:function(){}}}),X=Q,Z=(i("3956"),Object(g["a"])(X,K,V,!1,null,null,null));Z.options.__file="gigPrev.cmp.vue";var ee=Z.exports,te={props:{gigs:Array,currUser:Object},components:{gigPrev:ee}},ie=te,se=(i("6a0e"),Object(g["a"])(ie,Y,J,!1,null,null,null));se.options.__file="gigList.vue";var ae=se.exports,re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"top-gigs-container"},[i("ul",{staticClass:"top-gigs-list"},e._l(e.topGigs,function(t){return i("top-gig-prev",{key:t._id,attrs:{gig:t,currUser:e.currUser},nativeOn:{click:function(i){e.$emit("gigClicked",t._id)}}},[e._t("ribbon-slot",[i("span",[e._v(e._s(e.title))])])],2)})),i("h2",{staticClass:"see-more-link",on:{click:function(t){e.seeMore(e.title)}}},[e._v("Find More  \n    "),i("i",{staticClass:"fas fa-chevron-right"})])])},ne=[],oe=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.gig&&e.publisher?i("li",{staticClass:"top-gig"},[i("div",{staticClass:"gig-image",class:e.gig.category,style:{backgroundImage:"url("+e.gig.details.img+")",objectFit:"contain"}}),i("div",{staticClass:"gig-info"},[i("div",{staticClass:"publisher-container"},[i("img",{attrs:{src:e.publisher.img}}),i("div",{staticClass:"publisher-details"},[i("h3",[e._v(e._s(e.publisher.name.first+" "+e.publisher.name.last))]),i("h3",[i("i",{staticClass:"fas fa-star"}),e._v("\n           \n          "),e.publisher?i("span",[e._v(e._s(e.publisher.reviews.totalAverage?e.publisher.reviews.totalAverage.toFixed(1):"No Reviews"))]):e._e()])])]),i("div",{staticClass:"gig-details"},[i("h5",[e._v(e._s(e.gig.details.title))]),i("div",{staticClass:"lower-bar-container"},[i("h4",[e._v(e._s(e.gig.details.price)+"₪")]),e.isAlreadyPending?i("button",[e._v("Pending")]):i("button",[e._v("\n          Gig\n          "),i("span",[e._v("It")])])])])])]):e._e()},ce=[],le={props:{gig:Object,currUser:Object,type:String},data:function(){return{publisher:null,isAlreadyPending:!1}},created:function(){var e=this;if(this.currUser){var t=this.currUser.gigsIds.pending.find(function(t){return t===e.gig._id});t&&(this.isAlreadyPending=!0)}this.$store.dispatch({type:"getUserById",userId:this.gig.publisherId}).then(function(t){return e.publisher=t}),this.$store.dispatch},methods:{gigClicked:function(e){this.$emit("gigClicked",e)}},mounted:function(){},computed:{}},ge=le,ue=(i("97e6"),Object(g["a"])(ge,oe,ce,!1,null,null,null));ue.options.__file="topGigPrev.cmp.vue";var de=ue.exports,pe={props:{topGigs:Array,currUser:Object,title:String},methods:{seeMore:function(e){console.log(e)}},components:{topGigPrev:de}},fe=pe,he=(i("1107"),Object(g["a"])(fe,re,ne,!1,null,null,null));he.options.__file="topList.cmp.vue";var me=he.exports,ve=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"map-container"},[this.editPage?i("div",{staticClass:"add-pin-container"},[i("h2",[e._v("Search and add a pin")]),i("div",[i("gmap-autocomplete",{staticClass:"add-pin-input",attrs:{placeholder:"Enter a location"},on:{place_changed:e.setPlace}}),i("button",{staticClass:"add-pin-btn",on:{click:function(t){return t.preventDefault(),e.addMarker(t)}}},[e._v("Add")])],1)]):e._e(),i("gmap-map",{ref:"map",staticStyle:{width:"100%",height:"400px"},attrs:{center:e.center,zoom:12}},e._l(e.markers,function(t,s){return i("gmap-marker",{key:s,staticClass:"imBoss",attrs:{position:t.position},on:{click:function(i){e.center=t.position}}})}))],1)},be=[],ye={props:["gig","editPage"],name:"GoogleMap",data:function(){return{center:{},markers:[],places:[],currentPlace:null}},mounted:function(){var e=this;this.gig._id?(this.currentPlace=this.gig.details.location,this.center={lat:this.gig.details.location.lat,lng:this.gig.details.location.lng},this.markers.push({position:{lat:this.gig.details.location.lat,lng:this.gig.details.location.lng}}),navigator.geolocation.getCurrentPosition(function(t){e.markers.push({position:{lat:t.coords.latitude,lng:t.coords.longitude}})}),setTimeout(function(){e.getRoute()},500)):this.geolocate()},methods:{setPlace:function(e){this.currentPlace=e,this.$emit("setPlace",e)},addMarker:function(){if(this.currentPlace){var e={lat:this.currentPlace.geometry.location.lat(),lng:this.currentPlace.geometry.location.lng()};this.$emit("addMarker",e),this.markers.splice(0,1),this.places.splice(0,1),this.markers.push({position:e}),this.places.push(this.currentPlace),this.center=e,this.currentPlace=null}},geolocate:function(){var e=this;navigator.geolocation.getCurrentPosition?this.center={lat:32.0853,lng:34.781769}:navigator.geolocation.getCurrentPosition(function(t){e.center={lat:t.coords.latitude,lng:t.coords.longitude}})},getRoute:function(){this.directionsService=new google.maps.DirectionsService,this.directionsDisplay=new google.maps.DirectionsRenderer,this.directionsDisplay.setMap(this.$refs.map.$mapObject);var e=this;e.directionsService.route({origin:this.markers[0].position,destination:this.markers[1].position,travelMode:"DRIVING"},function(t,i){"OK"===i?e.directionsDisplay.setDirections(t):console.log("Directions request failed due to "+i)})}},destroyed:function(){},components:{}},_e=ye,Ce=(i("4538"),Object(g["a"])(_e,ve,be,!1,null,"c7c7942e",null));Ce.options.__file="googleMap.vue";var we=Ce.exports,ke={name:"home",data:function(){return{imgCounter:0,imgLoaded:!1,showCategories:!0,isFiltered:!1,carouselObjs:[{imgUrl:"https://res.cloudinary.com/barpel/image/upload/v1545131973/GigIt/guy_with_a_phone.png"},{imgUrl:"https://res.cloudinary.com/barpel/image/upload/v1545134043/GigIt/sexy_guy_with_a_motocycle_no_wind_shield.png"},{imgUrl:"https://res.cloudinary.com/barpel/image/upload/v1545134543/GigIt/2_guys_sharing_a_box.png"},{imgUrl:"https://res.cloudinary.com/barpel/image/upload/v1544721914/gigitUploads/gigiit.png"}]}},computed:{gigs:function(){return this.$store.getters.gigs},nearestGigs:function(){return this.$store.getters.nearestGigs},topPriceGigs:function(){return this.$store.getters.topPriceGigs},gigCategoryCounter:function(){return this.$store.getters.gigCategoryCounter},user:function(){return this.$store.getters.user},imgCounterClass:function(){return this.imgCounter}},methods:{sortBy:function(e){this.isFiltered=!0,this.$store.dispatch({type:"getGigs",filter:{},sorter:e})},onImgLoaded:function(){this.imgLoaded=!0},gigClicked:function(e){this.$router.push("gig/".concat(e))},filterByKey:function(e,t){e.byCategory||e.byTitle||t?this.isFiltered=!0:this.isFiltered=!1,this.showCategories=!1,this.$store.dispatch("getGigs",{filter:e,sorter:t})}},components:{gigCategories:D,homeFooter:W,gigList:ae,googleMap:we,gigToolbar:S,topList:me},created:function(){var e=this;setInterval(function(){e.imgCounter++,4===e.imgCounter&&(e.imgCounter=0)},4e3),this.$store.dispatch({type:"toggleLoadingOn"}),this.$store.dispatch({type:"getGigs"}).then(function(){return e.$store.dispatch({type:"toggleLoadingOff"})}),navigator.geolocation.getCurrentPosition(function(t){e.$store.dispatch({type:"userLocation",position:t})})}},Ge=ke,Ie=(i("62a7"),Object(g["a"])(Ge,j,x,!1,null,"96321f66",null));Ie.options.__file="home.vue";var $e=Ie.exports,je=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"login-container"},[i("h1",[e._v("Login")]),i("form",{on:{submit:function(t){return t.preventDefault(),e.login(t)}}},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.username,expression:"creds.username"}],ref:"elUsername",attrs:{type:"text",placeholder:"Username"},domProps:{value:e.creds.username},on:{input:function(t){t.target.composing||e.$set(e.creds,"username",t.target.value)}}}),i("input",{directives:[{name:"model",rawName:"v-model",value:e.creds.password,expression:"creds.password"}],attrs:{type:"password",placeholder:"Password"},domProps:{value:e.creds.password},on:{input:function(t){t.target.composing||e.$set(e.creds,"password",t.target.value)}}}),i("button",{attrs:{type:"submit"}},[e._v("Login")])]),i("h1",[e._v("Not a Gigster yet?\n    "),i("router-link",{attrs:{to:"/user/register"}},[e._v("Register")])],1)])},xe=[],Pe={data:function(){return{creds:{username:"",password:""}}},methods:{login:function(){var e=this;this.$store.dispatch({type:"onLogin",userCreds:this.creds}).then(function(){return e.$router.push("/")}).then(function(){return e.$store.dispatch("openUserSocket")}).catch(function(t){400===t.response.status&&e.$message.error("Wrong username or password")})}},mounted:function(){this.$refs.elUsername.focus()}},Ue=Pe,Oe=(i("66c0"),Object(g["a"])(Ue,je,xe,!1,null,null,null));Oe.options.__file="login.vue";var Te=Oe.exports,Le=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"registration-wr"},[e.isDone?i("div",{staticClass:"after-edit-container"},[i("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130.2 130.2"}},[i("circle",{staticClass:"path circle",attrs:{fill:"none",stroke:"#73AF55","stroke-width":"6","stroke-miterlimit":"10",cx:"65.1",cy:"65.1",r:"62.1"}}),i("polyline",{staticClass:"path check",attrs:{fill:"none",stroke:"#73AF55","stroke-width":"6","stroke-linecap":"round","stroke-miterlimit":"10",points:"100.2,40.2 51.5,88.8 29.8,67.5 "}})]),i("p",{staticClass:"success"},[e._v("Your Profile was updated!\n        "),i("br"),i("router-link",{attrs:{to:"/user/"+e.user._id}},[e._v("Back to profile")])],1)]):i("form",{staticClass:"registration-container",on:{submit:function(t){return t.preventDefault(),e.register(t)}}},[i("h1",[e._m(0),i("br"),e._v("\n      "+e._s(e.user._id?"Edit your profile":"Register")+"\n    ")]),i("div",{staticClass:"container1"},[i("el-input",{attrs:{placeholder:"First Name",clearable:""},model:{value:e.user.name.first,callback:function(t){e.$set(e.user.name,"first",t)},expression:"user.name.first"}}),i("el-input",{attrs:{placeholder:"Last Name",clearable:""},model:{value:e.user.name.last,callback:function(t){e.$set(e.user.name,"last",t)},expression:"user.name.last"}})],1),i("div",{staticClass:"container2"},[i("label",[i("span",[e._v("Age:")]),i("el-input-number",{attrs:{min:18},model:{value:e.user.age,callback:function(t){e.$set(e.user,"age",t)},expression:"user.age"}})],1),i("el-input",{attrs:{placeholder:"Email",type:"email",clearable:""},model:{value:e.user.email,callback:function(t){e.$set(e.user,"email",t)},expression:"user.email"}})],1),i("el-input",{attrs:{type:"textarea",placeholder:"Tell us a little about yourself",resize:"none",autosize:{minRows:3,maxRows:3}},model:{value:e.user.aboutMe,callback:function(t){e.$set(e.user,"aboutMe",t)},expression:"user.aboutMe"}}),i("div",{staticClass:"container3"},[i("el-input",{attrs:{placeholder:"Username",clearable:""},model:{value:e.user.username,callback:function(t){e.$set(e.user,"username",t)},expression:"user.username"}}),i("el-input",{attrs:{placeholder:"Password",type:"password",clearable:""},model:{value:e.user.password,callback:function(t){e.$set(e.user,"password",t)},expression:"user.password"}})],1),i("div",{staticClass:"container4"},[i("el-select",{attrs:{multiple:"",filterable:"","default-first-option":"",placeholder:"What are your skills?"},model:{value:e.user.skills,callback:function(t){e.$set(e.user,"skills",t)},expression:"user.skills"}},e._l(e.skillopts,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})}))],1),i("label",{staticClass:"upload-container"},[i("i",{staticClass:"fas fa-file-upload"}),e._v("\n      "+e._s(e.fileNameToShow)+"\n      "),i("input",{ref:"elImgInput",attrs:{type:"file",name:"imgUpload"},on:{change:e.onFileInputChange}})]),i("button",{attrs:{type:"submit"}},[e._v(e._s(e.user._id?"Save":"Register"))])],1)])},Se=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[e._v("\n        Gig\n        "),i("span",[e._v("It")])])}];i("7f7f");function Me(e){function t(e){return console.log("uploadedImg",e),e.url}return Ae(e,t)}function Ae(e,t){var i="https://api.cloudinary.com/v1_1/barpel/image/upload",s="gigitUploads",a=new FormData;return a.append("file",e),a.append("upload_preset",s),fetch(i,{method:"POST",body:a}).then(function(e){return e.json()}).then(t).catch(function(e){return console.error(e)})}var Be={uploadToCloudinary:Me},Ee={name:"register",data:function(){return{isDone:!1,user:{name:{first:"",last:""},age:18,aboutMe:"",username:"",password:"",email:"",img:"",skills:[],mainArea:{lat:32.023914,lng:34.76021},gigsIds:{published:[],pending:[],completed:[]},reviews:{totalAverage:5,publishedAverage:5,published:[{gigId:"0",title:"New User",givenBy:{name:"GigIt Team",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/User_icon_2.svg/220px-User_icon_2.svg.png"},createdAt:1543412028131,ratings:{text:"A newly added Gigster, be the first to review him!",payment:5,reliable:5,overall:5,average:5}}],completedAverage:5,completed:[{gigId:"0",title:"New User",givenBy:{name:"GigIt Team",img:"https://upload.wikimedia.org/wikipedia/commons/thumb/1/12/User_icon_2.svg/220px-User_icon_2.svg.png"},createdAt:1543412028131,ratings:{text:"A newly added Gigster, be the first to review him!",work:5,reliable:5,overall:5,average:5}}]},chats:[],notficCount:0,inboxCount:0},selectedFile:null,selectedFileName:null,skillopts:[{value:"gardening",label:"Gardening"},{value:"pets",label:"Pets"},{value:"patience",label:"Patience"},{value:"house-work",label:"House-Work"},{value:"mobility",label:"Mobility"},{value:"physical strength",label:"Physical Strength"},{value:"computers",label:"Computers"}]}},methods:{register:function(){var e=this,t=this.user;if(t.name.first&&t.username&&t.password&&t.age&&t.email&&t.name.last&&t.aboutMe){this.user.img||(this.user.img="https://res.cloudinary.com/barpel/image/upload/v1544540737/gigitUploads/i3eob2vi4keh5pxlpkre.jpg");var i=this.$route.params.userId;i?this.$store.dispatch({type:"updateUser",user:this.user}).then(function(t){e.isDone=!0,setTimeout(function(){e.$router.push("/user/".concat(e.user._id))},3e3)}):this.$store.dispatch({type:"register",user:this.user}).then(function(){return e.$router.push("/")}).catch(function(t){401===t.response.status&&e.$message.error("Username taken!")})}else this.$message({message:"Please fill out all fields!",type:"warning"})},onFileInputChange:function(e){var t=this;if(e.target.files[0]){this.selectedFileName=e.target.files[0].name,this.selectedFile=e.target.files[0];this.$refs.elImgInput;Be.uploadToCloudinary(this.selectedFile).then(function(e){return t.user.img=e})}}},computed:{fileNameToShow:function(){return this.selectedFileName?this.selectedFileName:"Upload an image"}},created:function(){var e=this,t=this.$route.params.userId;t&&this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.user=t,e.selectedFileName=t.name.first+".jpg"})}},Fe=Ee,De=(i("bf48"),Object(g["a"])(Fe,Le,Se,!1,null,"6a59a1d0",null));De.options.__file="register.vue";var Ne=De.exports,Re=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"gig-container"},[e._m(0),i("h2",[e._v("Looking for something specific? Find your own Gig using the filtering options")]),i("div",{staticClass:"gig-list-wrappe"},[i("gig-toolbar",{on:{showCategory:e.gigsFilterBy,searchGig:e.searchGigByKey}}),i("gig-list",{attrs:{gigs:e.gigs},on:{gigClicked:e.gigClicked}})],1)])},qe=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("h1",[e._v("\n    Gig\n    "),i("span",[e._v("It")])])}],ze={computed:{gigs:function(){return this.$store.getters.gigs}},methods:{gigClicked:function(e){this.$router.push("/gig/".concat(e))}},created:function(){},components:{gigList:ae,gigToolbar:S}},He=ze,We=(i("54ec"),Object(g["a"])(He,Re,qe,!1,null,"7542642b",null));We.options.__file="gig.vue";var Ye=We.exports,Je=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"gig-edit"},[i("h1",[e._v("\n    "+e._s(e.isAdd)+"\n    "),i("span",[e._v("Gig")])]),e.editComplete?i("div",{staticClass:"after-edit-container"},[i("svg",{attrs:{version:"1.1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 130.2 130.2"}},[i("circle",{staticClass:"path circle",attrs:{fill:"none",stroke:"#73AF55","stroke-width":"6","stroke-miterlimit":"10",cx:"65.1",cy:"65.1",r:"62.1"}}),i("polyline",{staticClass:"path check",attrs:{fill:"none",stroke:"#73AF55","stroke-width":"6","stroke-linecap":"round","stroke-miterlimit":"10",points:"100.2,40.2 51.5,88.8 29.8,67.5 "}})]),i("p",{staticClass:"success"},[e._v("Your Gig was added!\n      "),i("br"),e._v("Check it out"),i("br"),i("router-link",{attrs:{to:"/gig/"+e.newGigId}},[e._v("here")])],1)]):i("div",{staticClass:"gig-edit-container"},[i("form",{staticClass:"gig-edit-form",on:{submit:function(t){return t.preventDefault(),e.save(t)}}},[i("div",{staticClass:"form-wrapper-1"},[i("div",{staticClass:"gig-title-container"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.gig.details.title,expression:"gig.details.title"}],staticClass:"gig-title-input",attrs:{placeholder:"Gig Title"},domProps:{value:e.gig.details.title},on:{input:function(t){t.target.composing||e.$set(e.gig.details,"title",t.target.value)}}})]),i("div",{staticClass:"gig-category-container"},[i("el-select",{staticClass:"gig-category-input",attrs:{placeholder:"Category"},model:{value:e.gig.category,callback:function(t){e.$set(e.gig,"category",t)},expression:"gig.category"}},e._l(e.categoryOpts,function(e){return i("el-option",{key:e.value,attrs:{label:e.label,value:e.value,size:"medium"}})}))],1)]),e.gig.category?i("div",{staticClass:"photo-gallery grid"},[i("vue-gallery",{attrs:{images:this.imgsCategory,index:e.index},on:{close:function(t){e.index=null}}}),e._l(e.imgsCategory,function(t,s){return i("div",{key:s,staticClass:"image",class:e.selectedImgClass(t),style:{backgroundImage:"url("+t+")",objectFit:"cover"},on:{click:function(i){e.pickImg(t)}}})})],2):e._e(),i("el-input",{attrs:{type:"textarea",autosize:{minRows:3,maxRows:3},placeholder:"Describe your gig..."},model:{value:e.gig.details.desc,callback:function(t){e.$set(e.gig.details,"desc",t)},expression:"gig.details.desc"}}),i("div",{staticClass:"form-wrapper-2"},[i("el-date-picker",{attrs:{type:"datetime",placeholder:"Select Gig start time","default-time":"12:00:00",format:"HH:mm - dd/MM/yyyy","value-format":"timestamp"},model:{value:e.gig.details.gigTime.from,callback:function(t){e.$set(e.gig.details.gigTime,"from",t)},expression:"gig.details.gigTime.from"}}),i("el-date-picker",{attrs:{type:"datetime",placeholder:"Select Gig end time","default-time":"12:00:00",format:"HH:mm - dd/MM/yyyy","value-format":"timestamp"},model:{value:e.gig.details.gigTime.to,callback:function(t){e.$set(e.gig.details.gigTime,"to",t)},expression:"gig.details.gigTime.to"}})],1),e.editPage?i("google-map",{attrs:{editPage:e.editPage,gig:e.gig},on:{addMarker:e.getLocation,setPlace:e.setPlaceEdit}}):e._e(),i("label",{staticClass:"gig-price-container"},[e.isShowingTip?i("h4",{staticClass:"pro-tip"},[e._v("PRO-TIP: Set a fair price to get the Gig done quickly!")]):e._e(),i("h2",[e._v("Price:")]),i("el-input-number",{attrs:{step:10,min:0,size:"small"},on:{focus:e.toggleTip,blur:e.toggleTip},model:{value:e.gig.details.price,callback:function(t){e.$set(e.gig.details,"price",t)},expression:"gig.details.price"}})],1),e._m(0)],1)])])},Ke=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",{staticClass:"gig-submit-btn",attrs:{type:"submit"}},[e._v("\n        Save\n        "),i("span",[e._v("Gig")])])}],Ve=i("067c"),Qe=i.n(Ve),Xe={data:function(){return{"pet-care":["https://res.cloudinary.com/barpel/image/upload/v1544299638/GigIt/shutterstock_148172258.jpg","https://res.cloudinary.com/barpel/image/upload/v1544299638/GigIt/shutterstock_556414654.jpg","https://res.cloudinary.com/barpel/image/upload/v1544299713/GigIt/shutterstock_443728036.jpg"],"house-work":["https://res.cloudinary.com/barpel/image/upload/v1543848353/GigIt/plumber.jpg","https://res.cloudinary.com/barpel/image/upload/v1544301300/GigIt/shutterstock_381636988.jpg","https://res.cloudinary.com/barpel/image/upload/v1544301308/GigIt/shutterstock_1007119828.jpg"],other:["https://res.cloudinary.com/barpel/image/upload/v1544303327/GigIt/shutterstock_214814605.jpg","https://res.cloudinary.com/barpel/image/upload/v1544303327/GigIt/shutterstock_788923183.jpg","https://res.cloudinary.com/barpel/image/upload/v1544303524/GigIt/shutterstock_1164331375.jpg"],delivery:["https://res.cloudinary.com/barpel/image/upload/v1544303774/GigIt/shutterstock_1165732177_1.jpg","https://res.cloudinary.com/barpel/image/upload/v1544303774/GigIt/shutterstock_794998891.jpg","https://res.cloudinary.com/barpel/image/upload/v1544303773/GigIt/shutterstock_171790418.jpg"],moving:["https://res.cloudinary.com/barpel/image/upload/v1544304572/GigIt/shutterstock_369919934.jpg","https://res.cloudinary.com/barpel/image/upload/v1544304573/GigIt/shutterstock_366444461.jpg","https://res.cloudinary.com/barpel/image/upload/v1544304617/GigIt/shutterstock_516642439.jpg"],"line-queue":["https://res.cloudinary.com/barpel/image/upload/v1544304965/GigIt/shutterstock_239818981.jpg","https://res.cloudinary.com/barpel/image/upload/v1544304965/GigIt/shutterstock_733196824.jpg","https://res.cloudinary.com/barpel/image/upload/v1544304965/GigIt/shutterstock_467126900.jpg"],index:null,editPage:!0,gig:{publisherId:"",category:"",createdAt:0,pendingUsers:[],isRead:!0,isActive:!0,details:{title:"",desc:"",price:0,img:"",pos:{lat:null,lng:null},location:{},place:"",gigTime:{from:"",to:""},imgs:[]},holdingUsers:[],isPickedGigster:!1},editComplete:!1,newGigId:"",isShowingTip:!1,categoryOpts:[{value:"delivery",label:"Delivery"},{value:"house-work",label:"House-Work"},{value:"pet-care",label:"Pet-Care"},{value:"other",label:"Other"},{value:"line-queue",label:"Line-Queue"},{value:"moving",label:"Moving"}]}},computed:{user:function(){return this.$store.getters.user},isAdd:function(){return this.gig._id?"Edit":"Add"},currTime:function(){var e=new Date;return"".concat(e.getHours(),":").concat(e.getMinutes())},imgsCategory:function(){var e=this.gig.category,t=this[e];return t}},methods:{selectedImgClass:function(e){return this.gig.details.img===e?"selected":""},pickImg:function(e){this.gig.details.img=e},toggleTip:function(){this.isShowingTip=!this.isShowingTip},save:function(){var e=this,t=this.gig,i=t.details;if(t.category&&i.title&&i.price&&i.desc){t.createdAt=Date.now(),t.publisherId=this.user._id;var s=t._id?null:this.user.gigsIds.published;this.$store.dispatch({type:"updateGig",gig:t,userGigsListToUpdate:s}).then(function(t){e.editComplete=!0,e.newGigId=t._id})}else this.$message({message:"Please fill out all fields!",type:"warning"})},setPlaceEdit:function(e){this.gig.details.place=e.vicinity},getLocation:function(e){this.gig.details.location=e}},created:function(){var e=this,t=this.$route.params.gigId;t&&this.$store.dispatch({type:"getGigById",gigId:t}).then(function(t){t&&(e.gig=t)})},components:{GoogleMap:we,VueGallery:Qe.a}},Ze=Xe,et=(i("3ad5"),Object(g["a"])(Ze,Je,Ke,!1,null,null,null));et.options.__file="gigEdit.vue";var tt=et.exports,it=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.gig&&e.publisher?i("section",{staticClass:"gig-details-container"},[i("div",{staticClass:"top-container"},[i("h6",{on:{click:e.goBack}},[e._m(0)]),i("div",{staticClass:"top-user-container"},[i("div",{staticClass:"publisher-info"},[i("img",{attrs:{src:e.publisher.img,alt:""},on:{click:function(t){e.goToProfile(e.gig.publisherId)}}}),i("div",[i("h4",[e._v(e._s(e.publisher.name.first+" "+e.publisher.name.last))]),i("h4",{staticClass:"publisher-review"},[i("el-rate",{attrs:{value:e.publisher.reviews.totalAverage,disabled:"","show-score":"","text-color":"#ff9900","score-template":"({value})"}})],1)])]),e.isGigOwner?i("button",{on:{click:function(t){return t.stopPropagation(),e.editGig(t)}}},[i("i",{staticClass:"fas fa-pencil-alt"})]):e._e()])]),i("div",{staticClass:"mid-container"},[i("div",{staticClass:"gig-details-left-container"},[i("div",{staticClass:"left-top-container"},[i("h4",[e._v(e._s(e.gig.details.title))]),i("h6",[e._v("Description:\n          "),i("p",[e._v("“"+e._s(e.gig.details.desc)+"”")])]),i("h6",[e._v("Distance: "+e._s(e.gig.details.pos.dist)+" KM Away")]),i("div",{staticClass:"left-top-bottom"},[i("div",[i("h6",[e._v("From:")]),i("span",[e._v(e._s(e._f("localTime")(Date.now()-792e5)))])]),i("div",[i("h6",[e._v("To:")]),i("span",[e._v(e._s(e._f("localTime")(Date.now()+2592e5)))])])])]),i("div",{staticClass:"gig-category-wrapper"},[i("h5",[e._v("Category: "+e._s(e.gig.category))]),i("i",{class:e.iconByCategory}),e.gig?i("img",{attrs:{src:e.gig.details.img}}):e._e()])]),i("div",{staticClass:"gig-details-right-container"},[i("div",{staticClass:"call-to-action-container"},[i("p",[e._v("Earn "+e._s(this.gig.details.price)+"₪ for this Gig")]),e.isGigOwner?e._e():i("button",{staticClass:"gigit-btn",on:{click:e.requestGig}},[i("h1",[e.isAlreadyPending?i("span",[e._v("Pending")]):i("span",[e._v("\n              Gig\n              "),i("span",[e._v("It")])])])])]),i("div",{staticClass:"map-container"},[i("google-map",{attrs:{editPage:e.editPage,gig:e.gig}})],1)])])]):e._e()},st=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("i",{staticClass:"fas fa-arrow-left"})])}],at=i("c1df"),rt=i.n(at),nt={name:"gigDetails",data:function(){return{editPage:!1,gig:null,isGigOwner:null,isAlreadyPending:!1,publisher:null}},computed:{user:function(){return this.$store.getters.user},isLoggedin:function(){return this.$store.getters.isLoggedin},iconByCategory:function(){return{"fas fa-dog":"pet-care"===this.gig.category,"fas fa-ellipsis-h":"other"===this.gig.category,"fas fa-hammer":"house-work"===this.gig.category,"fas fa-male":"line-queue"===this.gig.category,"fas fa-people-carry":"moving"===this.gig.category,"fas fa-parachute-box":"delivery"===this.gig.category}}},filters:{localTime:function(e){return rt()(e).format("HH:mm - DD.MM.YYYY")}},methods:{goBack:function(){this.$router.push("/")},requestGig:function(){var e=this;if(!this.isAlreadyPending){var t=this.gig.publisherId;h.$emit(p,{type:"success",txt:"Gig Signed"}),this.$store.dispatch({type:"emitToUser",eventMsg:{txt:"".concat(this.user.name.first," wants to be your gigster!"),type:"success",link:"/user/".concat(this.user._id),gigsterImg:this.user.img},action:"toProfile",userId:t});var i=this.user;this.gig.isRead=!1,this.gig.pendingUsers.push({name:i.name.first,id:i._id,img:i.img,completedReviewsAverage:i.reviews.completedAverage});var s=this.user.gigsIds.pending;this.publisher.notficCount++,this.$store.dispatch({type:"updateUser",user:this.publisher}),this.$store.dispatch({type:"updateGig",gig:this.gig,userGigsListToUpdate:s}).then(function(){return e.$router.push("/")})}},editGig:function(){this.$router.push("/gig/edit/".concat(this.gig._id))},goToProfile:function(e){this.$router.push("/user/".concat(e))}},created:function(){var e=this,t=this.$route.params.gigId;this.$store.dispatch({type:"getGigById",gigId:t}).then(function(t){if(e.gig=t,e.user&&t.publisherId===e.user._id&&(e.isGigOwner=!0),e.$store.dispatch({type:"getUserById",userId:t.publisherId}).then(function(t){return e.publisher=t}),e.isLoggedin){var i=e.user.gigsIds.pending.find(function(e){return e===t._id});i&&(e.isAlreadyPending=!0)}})},mounted:function(){},components:{GoogleMap:we}},ot=nt,ct=Object(g["a"])(ot,it,st,!1,null,null,null);ct.options.__file="gigDetails.vue";var lt=ct.exports,gt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user?i("section",{staticClass:"user-gigs-container"},[e.gigs.publishedGigs.length?i("ul",{staticClass:"published-gigs"},[i("h2",[e._v("Published Gigs:")]),e._l(e.gigs.publishedGigs,function(t){return t.pendingUsers?i("div",{key:t._id},[i("gig-accordion",{attrs:{gigsters:t.pendingUsers,header:t.details.title,isPickedGigster:t.isPickedGigster},on:{gigsterPicked:function(i){e.gigsterPicked(i,t)},contactGigster:function(i){e.contactGigster(i,{title:t.details.title,_id:t._id})}}})],1):e._e()})],2):e._e(),i("pending-gig",{attrs:{gigs:e.gigs.pendingGigs}})],1):e._e()},ut=[],dt=(i("ac6a"),i("be94")),pt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"user-gigs-container"},[i("ul",[i("div",{staticClass:"gig-header",on:{click:function(t){e.isOpen=!e.isOpen}}},[e.isOpen?i("span",[i("i",{staticClass:"fas fa-angle-down"})]):i("span",[i("i",{staticClass:"fas fa-angle-right"})]),i("h1",[e._v(e._s(e.header))]),i("div",{staticClass:"gig-actions-wrapper"},[i("span",{on:{click:e.goToGig}},[i("i",{staticClass:"fas fa-info"})]),i("span",{on:{click:function(t){t.stopPropagation(),e.$emit("removeGig",e.gigId)}}},[i("i",{staticClass:"fas fa-trash-alt"})])])]),e._l(e.gigsters,function(t){return e.isOpen?i("li",{key:t._id,staticClass:"gigster-container"},[i("img",{attrs:{src:t.img},on:{click:function(i){e.goToProfile(t.id)}}}),i("h2",[e._v(e._s(t.name)+" wants to be your Gigster!")]),i("h3",{staticClass:"pending-user-rating-container"},[i("span",[e._v("Rating:")]),i("i",{staticClass:"fas fa-star"}),i("span",[e._v(e._s(t.completedReviewsAverage.toFixed(1)))])]),e.isPickedGigsterData?i("div",{staticClass:"gigster-btn-container-after"},[i("button",{staticClass:"accordion-gigit-btn",on:{click:function(i){e.contactGigster(t)}}},[i("i",{staticClass:"fas fa-comments"})]),i("button",{staticClass:"accordion-completed-btn",on:{click:function(i){e.$emit("openReviewForm",{gigId:e.gigId,title:e.header,gigsterId:t.id,isForGigster:!0,nameForReview:t.name})}}},[i("i",{staticClass:"fas fa-check-circle"})]),i("button",{staticClass:"accordion-later-btn",on:{click:e.gigCancel}},[i("i",{staticClass:"fas fa-ban"})])]):i("div",{staticClass:"gigster-btn-container"},[i("button",{staticClass:"accordion-gigit-btn",on:{click:function(i){e.gigsterPicked(t)}}},[e._v("\n          Gig\n          "),i("span",[e._v("It")])]),i("button",{staticClass:"accordion-later-btn"},[e._v("No Thanks")])])]):e._e()})],2)])},ft=[],ht={props:["header","gigsters","gigId","isPickedGigster","gigTitle"],name:"gigAccordion",data:function(){return{isPickedGigsterData:this.isPickedGigster,isOpen:!1,isGigIt:!1}},methods:{goToProfile:function(e){this.$router.push("/user/".concat(e))},goToGig:function(){this.$router.push("/gig/"+this.gigId)},gigsterPicked:function(e){this.isPickedGigsterData=!0,this.$emit("gigsterPicked",e)},gigCancel:function(){this.isPickedGigsterData=!1,this.$emit("gigsterPicked",null)},contactGigster:function(e){this.$emit("contactGigster",e)}}},mt=ht,vt=(i("b324"),Object(g["a"])(mt,pt,ft,!1,null,"d136aa7e",null));vt.options.__file="gigAccordion.cmp.vue";var bt=vt.exports,yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"pending-gigs-container"},[i("div",{staticClass:"pending-gigs-header",on:{click:function(t){e.isOpen=!e.isOpen}}},[e.isOpen?i("span",[i("i",{staticClass:"fas fa-angle-down"})]):i("span",[i("i",{staticClass:"fas fa-angle-right"})]),i("h1",[e._v("Pending Gigs:")])]),e._l(e.gigs,function(t,s){return e.isOpen&&t?i("div",{key:s,staticClass:"pending-gigs"},[i("h2",{on:{click:function(i){e.goToGig(t._id)}}},[e._v(e._s(t.details.title))]),e._m(0,!0)]):e._e()})],2)},_t=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("button",[e._v("\n      Cancel\n      "),i("span",[e._v("Gig")])])}],Ct={props:["gigs"],name:"pendingGig",data:function(){return{isOpen:!1}},methods:{goToGig:function(e){this.$router.push("/gig/".concat(e))}}},wt=Ct,kt=(i("5e5e"),Object(g["a"])(wt,yt,_t,!1,null,"71f5ac4a",null));kt.options.__file="pendingGig.cmp.vue";var Gt=kt.exports,It=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"giger-review-container"},[i("div",{staticClass:"giger-review-screen"}),i("form",{staticClass:"giger-review-form",on:{submit:function(t){return t.preventDefault(),e.sumbitReview(t)}}},[i("h2",[e._v("How Was Your Gig With "+e._s(e.reviewStats.nameForReview)+" ?")]),i("div",{staticClass:"giger-review-field"},[i("h3",[e._v(e._s(e.proffesionalOrPayment)+":")]),i("el-rate",{model:{value:e.workOrPayment,callback:function(t){e.workOrPayment=t},expression:"workOrPayment"}})],1),i("div",{staticClass:"giger-review-field"},[i("h3",[e._v("Reliability:")]),i("el-rate",{model:{value:e.review.reliable,callback:function(t){e.$set(e.review,"reliable",t)},expression:"review.reliable"}})],1),i("div",{staticClass:"giger-review-field"},[i("h3",[e._v("Overall:")]),i("el-rate",{model:{value:e.review.overall,callback:function(t){e.$set(e.review,"overall",t)},expression:"review.overall"}})],1),i("div",{staticClass:"giger-review-text"},[i("el-input",{attrs:{placeholder:"Please give us few words",type:"textarea",clearable:""},model:{value:e.review.text,callback:function(t){e.$set(e.review,"text",t)},expression:"review.text"}})],1),i("button",{staticClass:"giger-review-cancel",on:{click:function(t){return t.preventDefault(),e.skipReview(t)}}},[e._v("Skip")]),i("button",{staticClass:"giger-review-send",attrs:{type:"submit"}},[e._v("Send Review")])])])},$t=[],jt={props:{reviewStats:Object},data:function(){return{workOrPayment:1,review:{reliable:1,overall:1,text:null}}},computed:{proffesionalOrPayment:function(){return this.reviewStats.isForGigster?"Proffesional":"Payment"}},methods:{sumbitReview:function(){var e=this.review;this.reviewStats.isForGigster?e.work=this.workOrPayment:e.payment=this.workOrPayment,e.average=((e.reliable+e.overall+this.workOrPayment)/3).toFixed(1),this.$emit("reviewSumbitted",e)},skipReview:function(){var e=this;this.$confirm("Our community relies on your reviews. Go back to the review? ","Warning",{confirmButtonText:"Back to the review",cancelButtonText:"No thanks",type:"warning"}).catch(function(){e.$emit("reviewSumbitted")})}}},xt=jt,Pt=(i("8ff6"),Object(g["a"])(xt,It,$t,!1,null,null,null));Pt.options.__file="gigerReview.cmp.vue";var Ut=Pt.exports,Ot={data:function(){return{gigs:{completedGigs:[],pendingGigs:[],publishedGigs:[]},pickGigster:{isPicked:!1,gigster:[]}}},computed:{user:function(){return this.$store.getters.user},PublishGigs:function(){return pickGigster.isPicked?pickGigster:publishedGigs}},methods:{gigsterPicked:function(e,t){t.isPickedGigster=!0,t.holdingUsers=t.pendingUsers,t.pendingUsers=[e],this.$socket.emit("test","am testing"),this.$store.dispatch({type:"updateGig",gig:t})},contactGigster:function(e,t){var i=this;this.$store.dispatch({type:"contactUser",gigster:e,gigData:t,maister:this.user}).then(function(){return i.$router.push("/user/".concat(i.user._id,"/inbox"))})},getUserGigs:function(){var e=this,t=Object(dt["a"])({},this.user.gigsIds),i=t.completed,s=t.pending,a=t.published;i.forEach(function(t){e.$store.dispatch({type:"getGigById",gigId:"".concat(t)}).then(function(t){e.gigs.completedGigs.push(t)})}),s.forEach(function(t){e.$store.dispatch({type:"getGigById",gigId:"".concat(t)}).then(function(t){e.gigs.pendingGigs.push(t)})}),a.forEach(function(t){e.$store.dispatch({type:"getGigById",gigId:"".concat(t)}).then(function(t){e.gigs.publishedGigs.push(t)})})},removeGigId:function(e){console.log("removing gigId")},sumbitReview:function(e){}},created:function(){var e=this,t=this.$route.params.userId;this.$store.dispatch({type:"getUserById",userId:t}).then(function(){e.getUserGigs()})},components:{gigAccordion:bt,pendingGig:Gt,gigerReview:Ut}},Tt=Ot,Lt=(i("c81f"),Object(g["a"])(Tt,gt,ut,!1,null,"59f085f0",null));Lt.options.__file="userGigs.vue";var St=Lt.exports,Mt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user?i("section",{staticClass:"user-profile-container grid"},[i("div",{staticClass:"user-avatar-card"},[i("div",{staticClass:"user-wrapper"},[i("img",{attrs:{src:e.user.img,alt:""}}),i("h5",[e._v("\n        "+e._s(e.user.name.first)+" "+e._s(e.user.name.last)+"\n        "),i("el-rate",{attrs:{value:e.user.reviews.totalAverage,disabled:"","show-score":"","text-color":"#ff9900","score-template":"{value}"}})],1)]),e.isOwnProfile?e._e():i("router-link",{staticClass:"profile-btns-wrapper user-profile-contact-btn",attrs:{to:"/user/"+e.user._id+"/inbox",tag:"button"}},[i("i",{staticClass:"far fa-comments"})]),e.isOwnProfile?i("div",{staticClass:"profile-btns-wrapper"},[i("button",{staticClass:"profile-logout-btn",on:{click:e.doLogout}},[i("i",{staticClass:"fas fa-power-off"}),e._v(" Logout\n      ")]),i("button",{staticClass:"profile-edit-btn",on:{click:e.goToEditProfile}},[i("i",{staticClass:"fas fa-pencil-alt"})])]):e._e()],1),i("div",{staticClass:"profile-mid-wrapper"},[i("div",{staticClass:"user-profile-desc"},[i("h3",[e._v("About Me")]),i("p",[e._v(e._s(e.user.aboutMe))]),i("h3",[e._v("Skills")]),i("div",{staticClass:"user-profile-skills"},e._l(e.user.skills,function(t){return i("h4",{key:t},[e._v(e._s(t))])}))]),i("div",{staticClass:"profile-tabs-wrapper"},[i("div",{staticClass:"profile-tabs-container"},[i("div",{staticClass:"stv-radio-tabs-wrapper"},[i("input",{directives:[{name:"model",rawName:"v-model",value:e.tabContent,expression:"tabContent"}],staticClass:"stv-radio-tab",attrs:{type:"radio",name:"reviews",value:"1",id:"tab1",checked:""},domProps:{checked:e._q(e.tabContent,"1")},on:{change:function(t){e.tabContent="1"}}}),i("label",{attrs:{for:"tab1"}},[e._v("Reviews")]),i("input",{directives:[{name:"model",rawName:"v-model",value:e.tabContent,expression:"tabContent"}],staticClass:"stv-radio-tab",attrs:{type:"radio",name:"published gigs",value:"2",id:"tab2"},domProps:{checked:e._q(e.tabContent,"2")},on:{change:function(t){e.tabContent="2"}}}),e.isOwnProfile&&e.gigs.publishedGigs.length?i("label",{attrs:{for:"tab2"}},[e._v("Published Gigs")]):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.tabContent,expression:"tabContent"}],staticClass:"stv-radio-tab",attrs:{type:"radio",name:"pending gigs",value:"3",id:"tab3"},domProps:{checked:e._q(e.tabContent,"3")},on:{change:function(t){e.tabContent="3"}}}),e.isOwnProfile&&e.gigs.pendingGigs.length?i("label",{attrs:{for:"tab3"}},[e._v("Pending Gigs")]):e._e(),i("input",{directives:[{name:"model",rawName:"v-model",value:e.tabContent,expression:"tabContent"}],staticClass:"stv-radio-tab",attrs:{type:"radio",name:"completed gigs",value:"4",id:"tab4"},domProps:{checked:e._q(e.tabContent,"4")},on:{change:function(t){e.tabContent="4"}}}),e.isOwnProfile&&e.gigs.completedGigs.length?i("label",{attrs:{for:"tab4"}},[e._v("Completed Gigs")]):e._e()])]),1===+e.tabContent?i("ul",{staticClass:"profile-reviews"},e._l(e.user.reviews.completed,function(t){return i("li",{key:t.gigId,staticClass:"profile-review"},[i("div",{staticClass:"profile-review-giver"},[i("img",{attrs:{src:t.givenBy.img}}),e._v("\n            "+e._s(t.givenBy.name)+"\n          ")]),i("div",{staticClass:"profile-review-stars"},[i("span",[i("span",[e._v("Work: "+e._s(t.ratings.work))]),i("i",{staticClass:"fas fa-star"})]),i("span",[i("span",[e._v("Reliable: "+e._s(t.ratings.reliable))]),i("i",{staticClass:"fas fa-star"})]),i("span",[i("span",[e._v("Overall: "+e._s(t.ratings.overall))]),i("i",{staticClass:"fas fa-star"})])]),i("div",{staticClass:"profile-review-details-container"},[i("p",{staticClass:"profile-review-title"},[e._v(e._s(t.title))]),i("p",[e._v(e._s(t.ratings.text))])])])})):e._e(),e.gigs.publishedGigs.length&&2===+e.tabContent?i("ul",{staticClass:"published-gigs"},e._l(e.gigs.publishedGigs,function(t){return t&&t.pendingUsers?i("div",{key:t._id},[t.pendingUsers?i("gig-accordion",{attrs:{gigsters:t.pendingUsers,gigId:t._id,header:t.details.title,isPickedGigster:t.isPickedGigster},on:{removeGig:e.removeGig,gigsterPicked:function(i){e.gigsterPicked(i,t)},contactGigster:function(i){e.contactGigster(i,{title:t.details.title,_id:t._id})},openReviewForm:e.openReviewForm}}):e._e()],1):e._e()})):e._e(),e.gigs.pendingGigs.length&&3===+e.tabContent?i("ul",[i("pending-gig",{attrs:{gigs:e.gigs.pendingGigs}})],1):e._e(),e.gigs.completedGigs.length&&4===+e.tabContent?i("ul",[i("completed-gigs",{attrs:{gigs:e.gigs.completedGigs}})],1):e._e()])]),e.showReviewForm?i("giger-review",{attrs:{reviewStats:e.currReviewStats},on:{reviewSumbitted:e.submitReview}}):e._e()],1):e._e()},At=[],Bt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("section",{staticClass:"completed-gigs-container"},e._l(e.gigs,function(t){return i("li",{key:t._id},[i("div",{staticClass:"completed-gigster",on:{click:function(i){e.goToGigsterProfile(t.pendingUsers[0].id)}}},[i("img",{attrs:{src:t.pendingUsers[0].img,title:"Go to Gigster's profile"}}),i("h3",[e._v(e._s(t.pendingUsers[0].name))])]),i("h2",{attrs:{title:"Title"},on:{click:function(i){e.goToGig(t._id)}}},[e._v(e._s(t.details.title))]),i("h3",[e._v(e._s(t.details.price)+"₪")]),e._m(0,!0)])}))},Et=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("span",[i("i",{staticClass:"fas fa-check-square"})])}],Ft={props:["gigs"],methods:{goToGigsterProfile:function(e){this.$router.push("/user/".concat(e))},goToGig:function(e){this.$router.push("/gig/".concat(e))}},created:function(){console.log(this.gigs)}},Dt=Ft,Nt=(i("3f82"),Object(g["a"])(Dt,Bt,Et,!1,null,null,null));Nt.options.__file="completedGigs.cmp.vue";var Rt=Nt.exports,qt={data:function(){return{user:null,isOwnProfile:!1,tabContent:1,gigs:{completedGigs:[],pendingGigs:[],publishedGigs:[]},pickGigster:{isPicked:!1,gigster:[]},showReviewForm:!1,currReviewStats:null}},methods:{goToEditProfile:function(){this.$router.push("/user/edit/".concat(this.$route.params.userId))},doLogout:function(){this.$router.push("/"),this.$store.dispatch({type:"doLogout"})},removeGig:function(e){var t=this;this.$confirm("Are you sure you want to delete your gig? ","Warning",{confirmButtonText:"Yes i'm sure!",cancelButtonText:"Cancel",type:"warning"}).then(function(){return t.$store.dispatch({type:"removeGig",gigId:e})})},loadUser:function(){var e=this,t=this.$route.params.userId;this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){e.user=t,e.getUserGigs();var i=e.$store.getters.user;i&&i._id===t._id&&(e.isOwnProfile=!0,e.user.notficCount=0,e.$store.dispatch({type:"updateUserState",user:e.user}))})},gigsterPicked:function(e,t){e?(t.isPickedGigster=!0,t.holdingUsers=t.pendingUsers,t.pendingUsers=[e],this.$socket.emit("test","am testing"),this.$store.dispatch({type:"updateGig",gig:t})):(t.isPickedGigster=!1,t.pendingUsers=t.holdingUsers,t.holdingUsers=null,this.$store.dispatch({type:"updateGig",gig:t}))},contactGigster:function(e,t){var i=this;this.$store.dispatch({type:"contactUser",gigster:e,gigData:t,maister:this.user}).then(function(e){i.$router.push("/user/".concat(i.user._id,"/inbox"))})},getUserGigs:function(){var e=this,t=Object(dt["a"])({},this.user.gigsIds),i=t.completed,s=t.pending,a=t.published;i.forEach(function(t){e.$store.dispatch({type:"getGigById",gigId:"".concat(t)}).then(function(t){e.gigs.completedGigs.push(t)})}),s.forEach(function(t){e.$store.dispatch({type:"getGigById",gigId:"".concat(t)}).then(function(t){e.gigs.pendingGigs.push(t)})}),a.forEach(function(t){e.$store.dispatch({type:"getGigById",gigId:"".concat(t)}).then(function(t){e.gigs.publishedGigs.push(t)})})},openReviewForm:function(e){e.maisterId=this.user._id,this.currReviewStats=e,this.showReviewForm=!0},submitReview:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t={ratings:e,gigId:this.currReviewStats.gigId,createdAt:Date.now(),givenBy:{name:this.user.name.first,img:this.user.img},title:this.currReviewStats.title};this.$store.dispatch({type:"reviewAndCompleteGig",review:t,reviewStats:this.currReviewStats}),this.showReviewForm=!1,this.currReviewStats=null}},created:function(){this.loadUser()},watch:{"$route.params.userId":function(){this.loadUser()}},components:{gigAccordion:bt,pendingGig:Gt,gigerReview:Ut,completedGigs:Rt}},zt=qt,Ht=Object(g["a"])(zt,Mt,At,!1,null,null,null);Ht.options.__file="userProfile.vue";var Wt=Ht.exports,Yt=function(){var e=this,t=e.$createElement,i=e._self._c||t;return e.user?i("section",{attrs:{id:"inbox-container"}},[i("h1",[e._v(e._s(e.user.name.first)+"'s Chats")]),i("div",{staticClass:"chats-container"},[i("div",{staticClass:"top-bar"},[i("img",{attrs:{src:e.user.img}}),i("h3",[e._v(e._s(e.user.name.first)+"'s Chats")])]),i("div",{staticClass:"chats"},e._l(e.chats,function(t){return i("div",{key:t._id,staticClass:"chat",class:e.selectedChat===t?"selected":"",on:{click:function(i){e.renderChat(t)}}},[i("img",{attrs:{src:t.members[0].img}}),i("h3",[e._v("\n          "+e._s(t.members[0].name)+"\n          "),t.msgs[t.msgs.length-1]?i("h5",[e._v(e._s(t.msgs[t.msgs.length-1].txt))]):e._e()]),t.msgs.length&&!t.msgs[t.msgs.length-1].isRead?i("div",{staticClass:"new-event-point"}):e._e()])}))]),i("div",{staticClass:"chat-window"},[e.selectedChat?i("div",{ref:"conversation",staticClass:"chat-conversation"},[e._l(e.selectedChat.msgs,function(t,s){return i("div",{key:t._id,class:t.sender===e.user._id?"member2":"member1"},[t?i("div",{ref:"msg"+s,refInFor:!0,staticClass:"chat-msg-text"},[e._v(e._s(t.txt))]):e._e()])}),i("form",{on:{submit:function(t){t.preventDefault(),e.sendMsg(e.selectedChat._id)}}},[i("el-input",{attrs:{placeholder:"Type a message"},model:{value:e.newMsgTxt,callback:function(t){e.newMsgTxt=t},expression:"newMsgTxt"}}),i("button",{attrs:{type:"submit"}},[e._v("Send")])],1)],2):i("div",{staticClass:"no-selected-chat-container"},[i("img",{attrs:{src:"https://res.cloudinary.com/barpel/image/upload/v1544951982/GigIt/shrugging.png"}}),i("h2",[e._v(e._s(this.user.chats.length?"No Selected Chats":"You haven't started any chats yet"))])])])]):e._e()},Jt=[],Kt=(i("20d6"),{name:"inbox",data:function(){return{newMsgTxt:"",selectedChat:null,chats:[]}},computed:{user:function(){return this.$store.getters.user}},sockets:{sentMsg:function(e){var t=this.chats.find(function(t){return t._id===e.chatId});if(t){if(t.msgs.push(e.msg),this.selectedChat&&e.chatId===this.selectedChat._id){var i=this.selectedChat.msgs;i[i.length-1].isRead=!0}this.scrollDown(),this.$store.dispatch({type:"updateChat",chat:t})}}},methods:{scrollDown:function(){var e=this;setTimeout(function(){var t=e.$refs.conversation;t.scrollTo(0,t.scrollHeight)},0)},renderChat:function(e){e.msgs[e.msgs.length-1].isRead=!0,e.members.length<=1&&e.members.push({name:this.user.name.first,img:this.user.img,_id:this.user._id}),this.$store.dispatch({type:"updateChat",chat:e}),this.selectedChat=e,this.scrollDown()},sendMsg:function(e){var t={sender:this.user._id,txt:this.newMsgTxt,createdAt:Date.now(),isRead:!1},i=this.selectedChat.members[0]._id;this.$store.dispatch({type:"sendNewMsg",msg:t,chatId:e}),this.$store.dispatch({type:"emitNewChatMsg",userId:i}),this.newMsgTxt=""}},created:function(){var e=this,t=this.$route.params.userId;this.$store.dispatch({type:"getUserById",userId:t}).then(function(t){return t.inboxCount=0,e.$store.dispatch({type:"updateUserState",user:t}),t.chats.forEach(function(i){return e.$store.dispatch({type:"connectToChat",chatId:i.chatId}),e.$store.dispatch({type:"getChatById",chatId:i.chatId}).then(function(i){if(i){var s=i.members.findIndex(function(t){return t._id===e.user._id});i=JSON.parse(JSON.stringify(i));i.members.splice(s,1);var a=i.msgs[i.msgs.length-1];a&&a.sender===t._id&&(a.isRead=!0),e.chats.push(i)}})})})}}),Vt=Kt,Qt=(i("6fc9"),Object(g["a"])(Vt,Yt,Jt,!1,null,"0b86cede",null));Qt.options.__file="inbox.vue";var Xt=Qt.exports;s["default"].use($["a"]);var Zt=new $["a"]({mode:"history",base:"/",routes:[{path:"/",name:"home",component:$e},{path:"/gig",name:"gigs",component:Ye},{path:"/gig/edit/:gigId?",name:"gigEdit",component:tt},{path:"/gig/category/:type",name:"gigsCategories",component:Ye},{path:"/gig/:gigId",name:"gigDetails",component:lt},{path:"/user/login",name:"login",component:Te},{path:"/user/register",name:"register",component:Ne},{path:"/user/edit/:userId",name:"editUser",component:Ne},{path:"/user/:userId/gigs",name:"publishedGigs",component:St},{path:"/user/:userId/inbox",name:"inbox",component:Xt},{path:"/user/:userId",name:"userProfile",component:Wt},{path:"/about",name:"about",component:function(){return i.e("about").then(i.bind(null,"754b"))}}]}),ei=i("2f62"),ti=(i("55dd"),i("bc3a")),ii=i.n(ti),si="/api/gig",ai={query:ri,getById:ni,remove:oi,update:ci,getDistFromUser:li};function ri(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.byTitle,i=void 0===t?"":t,s=e.byCategory,a=void 0===s?"":s,r=e.isActive,n=void 0===r||r,o="".concat(si,"?byTitle=").concat(i,"&byCategory=").concat(a,"&isActive=").concat(n);return ii.a.get(o).then(function(e){return e.data})}function ni(e){return ii.a.get("".concat(si,"/").concat(e)).then(function(e){return e.data})}function oi(e){return ii.a.delete("".concat(si,"/").concat(e))}function ci(e){return e._id?ii.a.put("".concat(si,"/").concat(e._id),e).then(function(e){return e.data}):ii.a.post("".concat(si),e).then(function(e){return e.data})}function li(e,t){if(t||e){var i=t.position.lat,s=t.position.lng,a=e.details.location.lat,r=e.details.location.lng,n=6371,o=d(a-i),c=d(r-s),l=Math.sin(o/2)*Math.sin(o/2)+Math.cos(d(i))*Math.cos(d(a))*Math.sin(c/2)*Math.sin(c/2),g=2*Math.atan2(Math.sqrt(l),Math.sqrt(1-l)),u=n*g;return e.details.pos.dist=u.toFixed(1),e}function d(e){return e*(Math.PI/180)}}var gi={state:{gigs:null,currGig:null,isLoading:!1,loadingCounter:0,gigCategoryCounter:null,topPriceGigs:null,nearestGigs:null,userLocation:0},getters:{gigs:function(e){return e.gigs},isLoading:function(e){return e.isLoading},loggedUser:function(e,t){return t.user},gigCategoryCounter:function(e){return e.gigCategoryCounter},topPriceGigs:function(e){return e.topPriceGigs},nearestGigs:function(e){return e.nearestGigs}},mutations:{setGigs:function(e,t){var i=t.gigs,s=(t.filter,t.sorter);function a(e,t){return t.details.price-e.details.price}function r(e,t){return e.details.pos.dist-t.details.pos.dist}if(e.userLocation&&i.map(function(t){ai.getDistFromUser(t,e.userLocation)}),"Dist"===s?i.sort(r):"Price"===s&&i.sort(a),e.gigs=i,!e.topPriceGigs){var n=JSON.parse(JSON.stringify(i));"Dist"!==s&&n.sort(r),e.nearestGigs=n.slice(0,4),n.sort(a),e.topPriceGigs=n.slice(0,4)}},updateGig:function(e,t){var i=t.gig,s=e.gigs.findIndex(function(e){return e._id===i._id});e.gigs.splice(s,1,i)},toggleLoadingOn:function(e,t){console.log("all i wanna do is Loadload",e.isLoading),0===e.loadingCounter&&(e.isLoading=!0,e.loadingCounter=1),setTimeout(function(){return e.loadingCounter=0},5e3)},toggleLoadingOff:function(e){console.log("all i wanna do is Loadload",e.isLoading),e.isLoading=!1},setGigCategoryCount:function(e,t){var i=t.counter;e.gigCategoryCounter=i},setUserLocation:function(e,t){var i=t.userLocation;e.userLocation=i}},actions:{getGigs:function(e,t){var i=t.filter,s=t.sorter,a=void 0===s?"Dist":s;return ai.query(i).then(function(t){e.commit({type:"setGigs",gigs:t,filter:i,sorter:a});var s={};i&&""!==i.byCategory||(t.forEach(function(e){s[e.category]?s[e.category]++:s[e.category]=1}),e.commit({type:"setGigCategoryCount",counter:s}))})},toggleLoadingOn:function(e){e.commit({type:"toggleLoadingOn"})},toggleLoadingOff:function(e){e.commit({type:"toggleLoadingOff"})},getGigById:function(e,t){var i=t.gigId;return ai.getById(i).then(function(t){return e.state.userLocation?ai.getDistFromUser(t,e.state.userLocation):t})},removeGig:function(e,t){var i=t.gigId;e.dispatch({type:"removeGigFromAllUsersData",gigId:i}).then(function(){return ai.remove(i)})},updateGig:function(e,t){return ai.update(t.gig).then(function(i){return t.userGigsListToUpdate&&(t.userGigsListToUpdate.push(i._id),e.dispatch({type:"updateOwnUser",user:e.getters.loggedUser})),e.dispatch({type:"getGigs"},i),i})},userLocation:function(e,t){var i={position:{lat:t.position.coords.latitude,lng:t.position.coords.longitude}};e.commit({type:"setUserLocation",userLocation:i})},reviewAndCompleteGig:function(e,t){var i=t.review,s=t.reviewStats;return e.dispatch({type:"updateUsersReviewsAndGigIds",review:i,reviewStats:s}).then(function(){e.dispatch({type:"getGigById",gigId:s.gigId}).then(function(t){t.isActive=!1,e.dispatch({type:"updateGig",gig:t})})})}}},ui="/api",di={query:pi,getById:hi,remove:vi,update:mi,add:fi,loginUser:bi,logout:yi};function pi(){return ii.a.get("".concat(ui,"/user")).then(function(e){return e.data})}function fi(e){return ii.a.post("".concat(ui,"/user"),e).then(function(e){return e.data})}function hi(e){return ii.a.get("".concat(ui,"/user/").concat(e)).then(function(e){return e.data})}function mi(e){return e._id?ii.a.put("".concat(ui,"/user/").concat(e._id),e).then(function(e){return e.data}):ii.a.post("".concat(ui,"/user"),e).then(function(e){return e.data})}function vi(e){return ii.a.delete("".concat(ui,"/user/").concat(e)).then(function(e){return e.data})}function bi(e){return ii.a.post("".concat(ui,"/user/login"),e).then(function(e){return e.data})}function yi(){return ii.a.post("".concat(ui,"/user/logout"),{}).then(function(e){return e.data})}var _i={state:{loggedUser:null,isLoggedin:!1},getters:{user:function(e){return e.loggedUser},isLoggedin:function(e){return e.isLoggedin}},mutations:{setLoggedUser:function(e,t){var i=t.user;e.loggedUser=i,e.isLoggedin=!!i},updateUserGigs:function(e,t){var i=t.gig;e.loggedUser.gigsIds.published.push(i._id)}},actions:{updateUserState:function(e,t){var i=t.user;return e.commit({type:"setLoggedUser",user:i})},checkLoggedUser:function(e){return di.loginUser(null).then(function(t){if(t)return e.commit({type:"setLoggedUser",user:t}),t})},getAllUsers:function(e){return di.query()},getUserById:function(e,t){e.commit;var i=t.userId;return di.getById(i)},updateUser:function(e,t){var i=t.user;return di.update(i)},updateOwnUser:function(e,t){var i=t.user;return di.update(i).then(function(t){return e.commit({type:"setLoggedUser",user:t}),t})},onLogin:function(e,t){var i=t.userCreds;return di.loginUser(i).then(function(t){return e.commit({type:"setLoggedUser",user:t})})},doLogout:function(e){return e.state.loggedUser&&this._vm.$socket.emit("logoutUser",e.state.loggedUser._id),di.logout().then(function(){return e.commit({type:"setLoggedUser",user:null})})},register:function(e,t){var i=t.user;return di.add(i).then(function(t){return e.commit({type:"setLoggedUser",user:t})})},updateUsersReviewsAndGigIds:function(e,t){var i=t.review,s=t.reviewStats;return e.dispatch({type:"removeGigFromAllUsersData",gigId:s.gigId}).then(function(){i.ratings&&e.dispatch({type:"getUserById",userId:s.gigsterId}).then(function(t){"0"===t.reviews.completed[0].gigId?(t.reviews.completed=[i],t.reviews.completedAverage=i.ratings.average,t.reviews.totalAverage=(+t.reviews.completedAverage+ +t.reviews.publishedAverage)/2):(t.reviews.completed.unshift(i),t.reviews.completedAverage=(+t.reviews.completedAverage+ +i.ratings.average)/(t.reviews.completed.length+1),t.reviews.totalAverage=(+t.reviews.completedAverage+ +t.reviews.publishedAverage)/2),e.dispatch({type:"updateUser",user:t})})})},removeGigFromAllUsersData:function(e,t){var i=t.gigId;e.dispatch({type:"getGigById",gigId:i}).then(function(t){return e.dispatch({type:"getUserById",userId:t.publisherId}).then(function(i){i.gigsIds.completed.push(t._id);var s=i.gigsIds.published.findIndex(function(e){return e===t._id});s>-1&&i.gigsIds.published.splice(s,1),e.dispatch({type:"updateOwnUser",user:i})}),t.holdingUsers?t.holdingUsers.forEach(function(i){e.dispatch({type:"getUserById",userId:i.id}).then(function(i){var s=i.gigsIds.pending.findIndex(function(e){return e===t._id});s>-1&&(i.gigsIds.pending.splice(s,1),e.dispatch({type:"updateUser",user:i}))})}):t.pendingUsers.forEach(function(i){e.dispatch({type:"getUserById",userId:i.id}).then(function(i){var s=i.gigsIds.pending.findIndex(function(e){return e===t._id});s>-1&&(i.gigsIds.pending.splice(s,1),e.dispatch({type:"updateUser",user:i}))})})})}}},Ci="/api/chat",wi={query:ki,getById:Ii,remove:ji,update:$i,add:Gi};function ki(){return ii.a.get(Ci).then(function(e){return e.data})}function Gi(e){return ii.a.post(Ci,e).then(function(e){var t=e.data;return t})}function Ii(e){return ii.a.get("".concat(Ci,"/").concat(e)).then(function(e){return e.data})}function $i(e){return e._id?ii.a.put("".concat(Ci,"/").concat(e._id),e).then(function(e){return e.data}):ii.a.post(Ci,e).then(function(e){return e.data})}function ji(e){return ii.a.delete("".concat(Ci,"/").concat(e)).then(function(e){return e.data})}i("3022");var xi={state:{},getters:{},mutations:{},actions:{sendNewMsg:function(e,t){var i=t.msg,s=t.chatId;this._vm.$socket.emit("sendMsg",i,s)},connectToChat:function(e,t){var i=t.chatId;this._vm.$socket.emit("connectToChat",i)},getChatById:function(e,t){var i=t.chatId;return wi.getById(i)},contactUser:function(e,t){var i=t.gigster,s=t.gigData,a=t.maister,r=a.chats.findIndex(function(e){return e.maisterId===a._id&&e.gigsterId===i.id||e.gigsterId===a._id&&e.maisterId===i.id});if(r>=0){var n=a.chats.splice(r,1);return n=n[0],a.chats.unshift(n),e.dispatch({type:"updateOwnUser",user:a})}return e.dispatch({type:"openNewChat",gigster:i,gigData:s,maister:a})},updateChat:function(e,t){var i=t.chat;return wi.update(i)},openNewChat:function(e,t){var i=t.gigster,s=t.gigData,a=t.maister;console.log("new chat is arravid!!!!");var r={members:[{name:i.name,img:i.img,_id:i.id},{name:a.name.first,img:a.img,_id:a._id}],msgs:[],gig:s},n={sender:"Team",txt:"Welcome ".concat(a.name.first," and ").concat(i.name,", you can now chat and set your gig!"),isRead:!0,createdAt:Date.now()};return wi.update(r).then(function(t){var s={chatId:t._id,gigsterId:i.id,maisterId:a._id};function r(e){return e.chats.unshift(s),e}e.dispatch({type:"getUserById",userId:i.id}).then(function(i){var s=r(i);e.dispatch({type:"updateUser",user:s}).then(function(){e.dispatch({type:"sendNewMsg",msg:n,chatId:t._id}),e.dispatch({type:"emitNewChatMsg",userId:i._id})})});var o=r(a);return e.dispatch({type:"updateOwnUser",user:o})})}}},Pi={state:{success:new Audio("https://res.cloudinary.com/barpel/video/upload/v1544023238/GigIt%20Sounds/notification.mp3")},getters:{},mutations:{},actions:{playSound:function(e,t){var i=t.style;e.state[i].play()},openUserSocket:function(e){var t=e.getters.user;if(t){var i=t._id;this._vm.$socket.emit("newUserSocket",i)}},emitToUser:function(e,t){var i=t.eventMsg,s=t.userId;this._vm.$socket.emit("emitToUser",i,s)},emitNewChatMsg:function(e,t){var i=t.userId,s={txt:"You Have A New Message",type:"success",link:"/user/".concat(i,"/inbox"),action:"toProfile"};this._vm.$socket.emit("emitNewChatMsg",s,i)}}};s["default"].use(ei["a"]);var Ui=new ei["a"].Store({state:{},getters:{},mutations:{},actions:{},modules:{gigModule:gi,userModule:_i,chatModule:xi,socketModule:Pi}}),Oi=i("5132"),Ti=i.n(Oi),Li=(i("b107"),i("5c96")),Si=i.n(Li),Mi=(i("0fae"),i("b2d6")),Ai=i.n(Mi),Bi=i("755e");ii.a.defaults.withCredentials=!0;var Ei="";s["default"].use(Bi,{load:{key:"AIzaSyD4xBjgA3NAoLiVoJmSwJCYUel6lc17HOM",libraries:"places"}}),s["default"].use(new Ti.a({debug:!0,connection:Ei,vuex:{store:Ui,actionPrefix:"SOCKET_",mutationPrefix:"SOCKET_"}})),s["default"].use(Si.a,{locale:Ai.a}),s["default"].config.productionTip=!1,new s["default"]({router:Zt,store:Ui,VueGoogleMaps:Bi,render:function(e){return e(I)}}).$mount("#app")},"58f0":function(e,t,i){},"5e5e":function(e,t,i){"use strict";var s=i("2a52"),a=i.n(s);a.a},6294:function(e,t,i){"use strict";var s=i("7fba"),a=i.n(s);a.a},"62a7":function(e,t,i){"use strict";var s=i("58f0"),a=i.n(s);a.a},"64ad":function(e,t,i){"use strict";var s=i("b31a"),a=i.n(s);a.a},"66c0":function(e,t,i){"use strict";var s=i("c0c8"),a=i.n(s);a.a},"6a0e":function(e,t,i){"use strict";var s=i("29c5"),a=i.n(s);a.a},"6fc9":function(e,t,i){"use strict";var s=i("8d8f"),a=i.n(s);a.a},"7b36":function(e,t,i){},"7fba":function(e,t,i){},8190:function(e,t,i){"use strict";var s=i("4b6d"),a=i.n(s);a.a},8556:function(e,t,i){},"88f1":function(e,t,i){},"8d8f":function(e,t,i){},"8ff6":function(e,t,i){"use strict";var s=i("0b18"),a=i.n(s);a.a},"97e6":function(e,t,i){"use strict";var s=i("323f"),a=i.n(s);a.a},afaf:function(e,t,i){},b107:function(e,t,i){},b31a:function(e,t,i){},b324:function(e,t,i){"use strict";var s=i("c9fa"),a=i.n(s);a.a},b764:function(e,t,i){},bd0f:function(e,t,i){},bf48:function(e,t,i){"use strict";var s=i("d5f6"),a=i.n(s);a.a},c0c8:function(e,t,i){},c81f:function(e,t,i){"use strict";var s=i("88f1"),a=i.n(s);a.a},c9fa:function(e,t,i){},cb6e:function(e,t,i){},d5f6:function(e,t,i){}});
//# sourceMappingURL=app.51c372ef.js.map